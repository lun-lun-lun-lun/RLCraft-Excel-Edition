import{EquipmentSlot}from"@minecraft/server";const weaponsClassification={"hfrlc:flint_dagger":3,"hfrlc:wooden_dagger":5,"hfrlc:wooden_spear":8,"minecraft:wooden_sword":10,"minecraft:wooden_axe":5,"hfrlc:dirt_sword":8,"hfrlc:golden_dagger":8,"hfrlc:golden_spear":10,"minecraft:golden_sword":10,"minecraft:golden_axe":5,"hfrlc:stone_dagger":13,"hfrlc:stone_spear":13,"minecraft:stone_sword":13,"minecraft:stone_axe":7,"hfrlc:spike_sword":13,"hfrlc:iron_dagger":13,"hfrlc:weapon_9":15,"hfrlc:weapon_2":15,"hfrlc:iron_spear":15,"minecraft:iron_sword":15,"minecraft:iron_axe":7,"hfrlc:darkness_sword":15,"hfrlc:jungle_sword":15,"hfrlc:diamond_dagger":18,"hfrlc:diamond_spear":18,"hfrlc:weapon_4":18,"hfrlc:water_sword":18,"minecraft:diamond_sword":18,"minecraft:diamond_axe":9,"hfrlc:light_sword":18,"hfrlc:weapon_8":18,"hfrlc:netherite_dagger":18,"hfrlc:netherite_spear":20,"minecraft:netherite_sword":20,"minecraft:netherite_axe":10,"hfrlc:weapon_3":23,"hfrlc:fire_sword":25,"hfrlc:ice_sword":28,"hfrlc:ocean_sword":30,"hfrlc:weapon_6":33,"hfrlc:weapon_10":35,"hfrlc:weapon_7":38,"hfrlc:weapon_5":40,"hfrlc:dragon_bone_dagger":43,"hfrlc:dragon_bone_spear":45,"hfrlc:dragon_bone_katana":48,"hfrlc:dragon_bone_hammer":50,"hfrlc:dragon_bone_sword":53,"hfrlc:earth_sword":55,"minecraft:mace":56,"hfrlc:ice_dragon_bone_dagger":58,"hfrlc:ice_dragon_bone_katana":60,"hfrlc:ice_dragon_bone_spear":63,"hfrlc:ice_dragon_bone_hammer":65,"hfrlc:ice_dragon_bone_sword":68,"hfrlc:fire_dragon_bone_dagger":70,"hfrlc:fire_dragon_bone_katana":73,"hfrlc:fire_dragon_bone_spear":75,"hfrlc:fire_dragon_bone_hammer":78,"hfrlc:fire_dragon_bone_sword":80,"hfrlc:lava_sword":83,"hfrlc:wither_sword":85,"hfrlc:poison_sword":88,"hfrlc:ender_sword":90,"hfrlc:storm_sword":93,"hfrlc:thunder_sword":95,"hfrlc:nether_sword":98,"hfrlc:legendary_katana":100,"hfrlc:elemental_sword":100},armorsClassification={"minecraft:leather_helmet":1,"minecraft:leather_chestplate":2,"minecraft:leather_leggings":1.25,"minecraft:leather_boots":.75,"minecraft:chainmail_helmet":2,"minecraft:chainmail_chestplate":4,"minecraft:chainmail_leggings":2.5,"minecraft:chainmail_boots":1.5,"minecraft:golden_helmet":5,"minecraft:golden_chestplate":10,"minecraft:golden_leggings":6.25,"minecraft:golden_boots":3.75,"minecraft:iron_helmet":6,"minecraft:iron_chestplate":12,"minecraft:iron_leggings":7.5,"minecraft:iron_boots":4.5,"minecraft:diamond_helmet":10,"minecraft:diamond_chestplate":20,"minecraft:diamond_leggings":12.5,"minecraft:diamond_boots":7.5,"minecraft:netherite_helmet":16,"minecraft:netherite_chestplate":32,"minecraft:netherite_leggings":20,"minecraft:netherite_boots":12,"hfrlc:pirate_helmet":9,"hfrlc:pirate_chestplate":18,"hfrlc:pirate_leggings":11.25,"hfrlc:pirate_boots":6.75,"hfrlc:samurai_helmet":12,"hfrlc:samurai_chestplate":24,"hfrlc:samurai_leggings":15,"hfrlc:samurai_boots":9,"hfrlc:earth_dragon_helmet":14,"hfrlc:earth_dragon_chestplate":28,"hfrlc:earth_dragon_leggings":17.5,"hfrlc:earth_dragon_boots":10.5,"hfrlc:dark_dragon_helmet":18,"hfrlc:dark_dragon_chestplate":36,"hfrlc:dark_dragon_leggings":22.5,"hfrlc:dark_dragon_boots":13.5,"hfrlc:brown_dragon_helmet":15,"hfrlc:brown_dragon_chestplate":30,"hfrlc:brown_dragon_leggings":18.75,"hfrlc:brown_dragon_boots":11.25,"hfrlc:red_dragon_helmet":20,"hfrlc:red_dragon_chestplate":40,"hfrlc:red_dragon_leggings":25,"hfrlc:red_dragon_boots":15,"hfrlc:blue_dragon_helmet":20,"hfrlc:blue_dragon_chestplate":40,"hfrlc:blue_dragon_leggings":25,"hfrlc:blue_dragon_boots":15,"hfrlc:green_dragon_helmet":20,"hfrlc:green_dragon_chestplate":40,"hfrlc:green_dragon_leggings":25,"hfrlc:green_dragon_boots":15},effectsClassification={strength:{0:10,1:20},resistance:{0:8,1:16,2:24},regeneration:{0:6,1:12},speed:{0:3,1:6,2:9},haste:{0:3,1:6},wither:4,night_vision:2,fire_resistance:4,slow_falling:2,jump_boost:2},resistancesClassification={level_armor30:6,ice_bag:3,warmer:3,ancient:5,dragon_slayer:5,cyclops_eye:2,goat_horns:6,dragon_eyes:2,antidote_vital:2,blessed_water:2,knockback:2,shulker_anchor:2},maxHealthClassification={20:0,30:18,40:36,50:54,60:72,70:90,80:100};function getMaxValueFromInventory(e,r){const a=e.getComponent("minecraft:inventory");if(!a)return 0;const t=a.container;if(!t)return 0;let n=0;for(let e=0;e<t.size;e++){const a=t.getItem(e);if(!a?.typeId)continue;const o=r[a.typeId];o&&o>n&&(n=o)}return n}function getTotalValueFromArmor(e,r){const a=e.getComponent("minecraft:equippable");if(!a)return 0;let t=0;for(const e of[EquipmentSlot.Head,EquipmentSlot.Chest,EquipmentSlot.Legs,EquipmentSlot.Feet]){const n=a.getEquipment(e);if(!n?.typeId)continue;const o=r[n.typeId];o&&(t+=o)}return t}function getTotalValueFromEffects(e,r){let a=0;for(const t of e.getEffects()){const e=r[t.typeId.replace("minecraft:","")];if("object"==typeof e){const r=e[t.amplifier];r&&(a+=r)}else"number"==typeof e&&(a+=e)}return a}function getTotalValueFromTags(e,r){let a=0;for(const t of e.getTags()){const e=r[t];e&&(a+=e)}return a}function getValueFromMaxHealth(e,r){const a=e.getComponent("minecraft:health")?.effectiveMax;if(!a)return 0;return r[Object.keys(r).map(Number).filter(e=>a>=e).sort((e,r)=>r-e)[0]]??0}export function calculateTotalValue(e){return Math.max(1,Math.min(999,Math.round(getMaxValueFromInventory(e,weaponsClassification)+getTotalValueFromArmor(e,armorsClassification)+getTotalValueFromEffects(e,effectsClassification)+getTotalValueFromTags(e,resistancesClassification)+getValueFromMaxHealth(e,maxHealthClassification))))}