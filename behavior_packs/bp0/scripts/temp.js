import{system}from"@minecraft/server";import{getScore,setScore}from"./functions.js";import{TempScore}from"./temp_detect.js";import{reactive_temp}from"./temp_sphere.js";import"./blockScan.js";export function tempEvents(e,a){switch(a){case"hfrlc:temp_fireArrow":case"hfrlc:temp_iceArrow":case"hfrlc:temp_sphereVeryCold":case"hfrlc:temp_sphereHot":case"hfrlc:temp_sphereVeryHot":case"hfrlc:temp_sphereCold":case"hfrlc:temp_sphereNormal":{const t=e.getGameMode(),r="spectator"!==t&&"creative"!==t,s=e.hasTag("active_temp")&&!e.hasTag("desactive_temp"),m=a=>{r&&s&&e.onScreenDisplay.setTitle(a)};switch(a){case"hfrlc:temp_fireArrow":r&&s&&(e.onScreenDisplay.setTitle("fire_arrow"),e.triggerEvent("hfrlc:active_normal_temp"));break;case"hfrlc:temp_iceArrow":r&&s&&(e.onScreenDisplay.setTitle("ice_arrow"),e.triggerEvent("hfrlc:active_normal_temp"));break;case"hfrlc:temp_sphereVeryCold":m("tempverycold_sphere;");break;case"hfrlc:temp_sphereHot":m("temphot_sphere;");break;case"hfrlc:temp_sphereVeryHot":m("veryhot_sphere;");break;case"hfrlc:temp_sphereCold":m("tempcold_sphere;");break;case"hfrlc:temp_sphereNormal":m("tempnormal_sphere;")}break}case"hfrlc:active_normal_temp":system.runTimeout(()=>e.triggerEvent("hfrlc:normal_temp"),120);break;case"hfrlc:dead_temp":e.addTag("dead_temp"),setScore(e,"thermometer",6e3);break;case"hfrlc:tempBarLoop":(e.hasTag("active_temp")||e.hasTag("active_tuto13")||e.hasTag("active_tuto14"))&&TempScore(e);break;case"tempnormal":e.hasTag("do_tuto0")||setScore(e,"temperature",0);break;case"tempcold":e.hasTag("do_tuto0")||setScore(e,"temperature",1);break;case"temphot":e.hasTag("do_tuto0")||setScore(e,"temperature",2);break;case"in_lava":e.addTag("in_lava");break;case"no_in_lava":e.removeTag("in_lava");break;case"is_daytime":e.removeTag("its_nighttime"),e.addTag("its_daytime");break;case"is_night_time":e.addTag("its_nighttime"),e.removeTag("its_daytime");break;case"e:weather_rain":e.addTag("its_raining");break;case"e:weather_clear":e.removeTag("its_raining");break;case"hfrlc:temp_damage":if(!e.hasTag("desactive_temp")){const a=getScore(e,"thermometer"),t=(e,t)=>a>=e&&a<=t;t(11900,12e3)?e.hasTag("heat_damage")||e.hasTag("ice_bag")||e.addTag("heat_damage"):(a<11900||e.hasTag("ice_bag"))&&e.hasTag("heat_damage")&&e.removeTag("heat_damage"),t(0,100)?e.hasTag("snow_damage")||e.hasTag("warmer")||e.addTag("snow_damage"):(a>100||e.hasTag("warmer"))&&e.hasTag("snow_damage")&&e.removeTag("snow_damage")}}}export function tempSpawn(e){e.hasTag("dead_temp")||e.hasTag("active_thirts")||!e.hasTag("active_temp")||reactive_temp(e),e.hasTag("dead_temp")&&e.hasTag("active_temp")&&(reactive_temp(e),e.removeTag("dead_temp"))}