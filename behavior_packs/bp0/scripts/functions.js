import{system,world,Block,BlockVolume,ItemStack,EquipmentSlot}from"@minecraft/server";export function getScore(t,e){return world.scoreboard.getObjective(e).getScore(t)??0}export function setScore(t,e,o){return world.scoreboard.getObjective(e).setScore(t,o)??0}export function addScore(t,e,o){return world.scoreboard.getObjective(e).addScore(t,o)??0}export function addEffect(t,e,o,n,r){return t.addEffect(e,2*o,{amplifier:n,showParticles:r})??0}export function removeEffect(t,e){return t.removeEffect(e)??0}export function addItem(t,e,o,n,r){const a=t.getComponent("inventory").container,c=new ItemStack(e);c.keepOnDeath=o,c.lockMode=n,c.setLore(r),a.addItem(c)}export function takeOneItem(t){const e=t.getComponent("minecraft:equippable"),o=e.getEquipment(EquipmentSlot.Mainhand);o&&(o.amount>1?(o.amount-=1,e.setEquipment(EquipmentSlot.Mainhand,o)):e.setEquipment(EquipmentSlot.Mainhand,void 0))}export function setItem(t,e,o,n,r,a){const c=e.getComponent("inventory").container,i=new ItemStack(o);i.keepOnDeath=r,i.lockMode=a,i.setLore(n),c.setItem(t,i)}export function addDamage(t,e,o){system.runTimeout(()=>{if(t.typeId!=o.typeId){const n=t.getComponent("health");if(n&&n.currentValue>0&&t&&(Number.isNaN(e)||e>0&&t.applyDamage(Math.floor(e)+1),(Number.isNaN(e)||e<0)&&t.applyDamage(1),o&&o.hasTag("level_melee40")&&n.currentValue>0)){const t=o.getComponent("health"),n=t.currentValue;if(Math.floor(e)<=9&&t.setCurrentValue(n+1),Math.floor(e)>=10){const r=Math.floor(e/5);t.setCurrentValue(n+r),r<5?triggerHealingEvents(1,o):r<9&&triggerHealingEvents(2,o),r>=9&&o.triggerEvent("hfrlc:bodyparts_reset")}}}},10)}function triggerHealingEvents(t,e){const o=["rleg_heal","lleg_heal","larm_heal","rarm_heal"],n=["larm_heal","rarm_heal","rleg_heal","lleg_heal"];for(let r=0;r<t;r++){const t=Math.floor(Math.random()*o.length),r=Math.floor(Math.random()*n.length);e.triggerEvent(`hfrlc:${o[t]}`),e.triggerEvent(`hfrlc:${n[r]}`)}}export function itemCount(t,e){const o=t.getComponent("inventory").container;let n=0;for(let t=0;t<o.size;t++){const r=o.getItem(t);r&&r.typeId===e&&(n+=r.amount)}return n}export function directionToInt(t){return{north:0,east:90,south:180,west:270}[t]??null}export function getVolumeFromLocalCoords(t,e,o,n){let r;if(r=n||t.permutation,!t||void 0===t)return new BlockVolume({x:0,y:0,z:0},{x:0,y:0,z:0});const a={down:0,up:1,north:2,south:3,west:4,east:5};let c;const i=r.getState("facing_direction");if(i)c=i;else{const t=r.getState("minecraft:cardinal_direction");if(!t)return new BlockVolume({x:0,y:0,z:0},{x:0,y:0,z:0});c=a[t]}const l={0:"down",1:"up",2:"north",3:"south",4:"west",5:"east"}[c],u={north:{x:0,z:-1,y:0},south:{x:0,z:1,y:0},east:{x:1,z:0,y:0},west:{x:-1,z:0,y:0},up:{x:0,z:0,y:1},down:{x:0,z:0,y:-1}}[l];function s(e){return"up"===l||"down"===l?{x:t?.location.x+e.x,y:t?.location.y+e.y*u.y,z:t?.location.z+e.z}:{x:t?.location.x+(e.x*u.x-e.z*u.z),y:t?.location.y+e.y,z:t?.location.z+(e.x*u.z+e.z*u.x)}}const m=s(e),d=s(o);return new BlockVolume(m,d)}export function getPositionsInRadius(t,e,o,n){const r=new Set;for(let a=0;a<n;a++){const n=2*Math.random()*Math.PI,a=Math.sqrt(Math.random())*o,c=e.x+a*Math.cos(n),i=e.z+a*Math.sin(n),l={x:c,y:t.getTopmostBlock({x:c,z:i},e.y+1).center().y+.5,z:i};r.add(l)}return r}export function getRandomIntInRange(t,e){return Math.floor(Math.random()*(e-t+1))+t}export const w=world.getDimension("overworld");