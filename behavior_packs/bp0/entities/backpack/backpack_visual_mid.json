{"format_version":"1.17.0","minecraft:entity":{"description":{"identifier":"hfrlc:backpack_visual_mid","is_spawnable":true,"is_summonable":true,"is_experimental":false,"properties":{"hfrlc:backpack_dmg":{"type":"int","default":0,"range":[0,2]},"hfrlc:backpack_dmg_trigger":{"type":"bool","default":false}},"animations":{"dmg":"controller.animation.backpack_dmg"},"scripts":{"animate":["dmg"]}},"component_groups":{"pre_popup":{"minecraft:entity_sensor":{"sensor_range":3,"event_filters":{"all_of":[{"test":"is_family","subject":"other","value":"player"},{"test":"has_component","subject":"self","operator":"!=","value":"minecraft:is_baby"}]},"event":"popup"}},"dismounted":{"minecraft:skin_id":{"value":0},"minecraft:collision_box":{"width":0.6,"height":0.7},"minecraft:custom_hit_test":{"hitboxes":[{"width":1,"height":0.7,"pivot":[0,0.5,0]}]},"minecraft:is_collidable":{}},"despawn":{"minecraft:instant_despawn":{}},"popup":{"minecraft:is_baby":{},"minecraft:timer":{"time":8,"time_down_event":{"event":"reset_popup"}}}},"components":{"minecraft:type_family":{"family":["backpack"]},"minecraft:interact":{"interactions":[{"on_interact":{"filters":{"all_of":[{"test":"is_sneaking","subject":"other","value":true},{"test":"int_property","subject":"other","domain":"hfrlc:wearing_backpack","operator":"==","value":0}]},"event":"wear","target":"self"},"interact_text":"action.interact.wear","play_sounds":"saddle"}]},"minecraft:collision_box":{"width":0,"height":0},"minecraft:knockback_resistance":{"value":1},"minecraft:fire_immune":{},"minecraft:damage_sensor":{"triggers":[{"on_damage":{"filters":{"all_of":[{"test":"int_property","subject":"self","domain":"hfrlc:backpack_dmg","operator":"<=","value":2},{"test":"has_damage","subject":"self","operator":"==","value":"attack"},{"test":"is_family","subject":"other","operator":"==","value":"player"}]},"event":"backpack_dmg_trigger"},"deals_damage":false},{"on_damage":{},"deals_damage":false}]},"minecraft:inventory":{"inventory_size":45,"container_type":"container"},"minecraft:physics":{},"minecraft:nameable":{"always_show":true}},"events":{"minecraft:entity_spawned":{"add":{"component_groups":["dismounted","popup"]}},"wear":{"sequence":[{"queue_command":{"command":["event entity @s wear_backpack2","tag @s add active_backpack_event"],"target":"other"}}]},"backpack_dmg":{"sequence":[{"set_property":{"hfrlc:backpack_dmg":"q.property('hfrlc:backpack_dmg') + 1"}}]},"backpack_dmg_trigger":{"set_property":{"hfrlc:backpack_dmg_trigger":true}},"backpack_dmg_trigger_reset":{"set_property":{"hfrlc:backpack_dmg_trigger":false}},"dismounted":{"sequence":[{"add":{"component_groups":["dismounted","pre_popup"]},"remove":{"component_groups":["wear"]},"queue_command":{"command":["event entity @s dismount_backpack"],"target":"other"}}]},"popup":{"add":{"component_groups":["popup"]},"remove":{"component_groups":["pre_popup"]}},"reset_popup":{"remove":{"component_groups":["popup"]},"add":{"component_groups":["pre_popup"]}},"despawn":{"add":{"component_groups":["despawn"]}}}}}