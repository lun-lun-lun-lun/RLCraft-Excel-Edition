{"format_version":"1.13.0","minecraft:entity":{"description":{"identifier":"hfrlc:tree_spirit","is_summonable":true,"is_spawnable":true,"animations":{"tick":"animation.tree_spirit.tick","sound_cont":"controller.animation.tree_spirit_walk","stuck_failsafe":"controller.animation.tree_spirit.stuck_failsafe","walk":"animation.tree_spirit_walk","death":"animation.tree_spirit.death","attack_cont":"controller.animation.tree_spirit.attack_controller"},"scripts":{"animate":["tick",{"sound_cont":"!q.property('hfrlc:dead')"},{"attack_cont":"!q.property('hfrlc:dead')"},{"death":"q.property('hfrlc:dead')"},"stuck_failsafe"]},"properties":{"hfrlc:mob_tier":{"client_sync":true,"default":0,"range":[0,3],"type":"int"},"hfrlc:spawned":{"type":"bool","client_sync":true,"default":false},"hfrlc:dead":{"type":"bool","client_sync":true,"default":false},"hfrlc:rotation_locked":{"type":"bool","client_sync":true,"default":false},"hfrlc:rotation":{"type":"float","client_sync":true,"range":[-999.0,999.0],"default":0.01},"hfrlc:state":{"type":"enum","client_sync":true,"values":["none","preparing_attack","attacking","healing"],"default":"none"},"hfrlc:stuck":{"type":"bool","client_sync":true,"default":false},"hfrlc:attack_type":{"type":"enum","client_sync":true,"values":["none","quick_attack","heavy_attack"],"default":"none"}}},"component_groups":{"hfrlc:mob_tier1":{"minecraft:health":{"value":217,"min":1}},"hfrlc:mob_tier2":{"minecraft:health":{"value":362,"min":1}},"hfrlc:mob_tier3":{"minecraft:health":{"value":725,"min":1}},"hfrlc:despawn":{"minecraft:instant_despawn":{}},"hfrlc:movement_off":{"minecraft:movement":{"value":0.0},"minecraft:behavior.look_at_target":{"priority":11,"look_distance":8}},"hfrlc:movement_on":{"minecraft:movement":{"value":0.25},"minecraft:behavior.look_at_target":{"priority":999,"look_distance":0}},"hfrlc:quick_attack":{"minecraft:behavior.delayed_attack":{"attack_duration":999999,"attack_once":true,"hit_delay_pct":1,"random_stop_interval":0,"reach_multiplier":0,"require_complete_path":true,"track_target":false},"minecraft:target_nearby_sensor":{"must_see":false,"inside_range":3,"outside_range":5,"on_inside_range":{"event":"hfrlc:prepare_attack","target":"self","filters":[{"test":"enum_property","domain":"hfrlc:state","value":"none"},{"test":"bool_property","domain":"hfrlc:stuck","value":false}]}},"minecraft:timer":{"time":[1,1],"looping":true,"time_down_event":{"event":"hfrlc:prepare_attack","target":"self","filters":[{"test":"enum_property","domain":"hfrlc:state","value":"none"},{"test":"bool_property","domain":"hfrlc:stuck","value":false},{"test":"target_distance","operator":"<=","value":5}]}}},"hfrlc:heavy_attack":{"minecraft:behavior.delayed_attack":{"attack_duration":999999,"attack_once":true,"hit_delay_pct":1,"random_stop_interval":0,"reach_multiplier":0,"require_complete_path":true,"track_target":false},"minecraft:target_nearby_sensor":{"must_see":false,"inside_range":3,"outside_range":5,"on_inside_range":{"event":"hfrlc:prepare_attack","target":"self","filters":[{"test":"enum_property","domain":"hfrlc:state","value":"none"},{"test":"bool_property","domain":"hfrlc:stuck","value":false}]}},"minecraft:timer":{"time":[1,3],"looping":true,"time_down_event":{"event":"hfrlc:prepare_attack","target":"self","filters":[{"test":"enum_property","domain":"hfrlc:state","value":"none"},{"test":"bool_property","domain":"hfrlc:stuck","value":false},{"test":"target_distance","operator":"<=","value":5}]}}},"hfrlc:vulnerable":{"minecraft:damage_sensor":{"triggers":[{"on_damage":{"filters":{"any_of":[{"test":"has_equipment_tag","subject":"other","domain":"hand","value":"minecraft:is_sword"}]},"event":"hfrlc:on_hurt_sound"},"deals_damage":true,"damage_multiplier":0.5},{"on_damage":{"filters":{"all_of":[{"any_of":[{"test":"has_damage","value":"attack"},{"test":"has_damage","value":"projectile"}]},{"none_of":[{"test":"has_equipment_tag","subject":"other","domain":"hand","value":"minecraft:is_axe"}]}]}},"deals_damage":false}]}},"hfrlc:spawning":{"minecraft:collision_box":{"width":0.0,"height":0.0},"minecraft:behavior.emerge":{"duration":4.49,"on_done":{"event":"hfrlc:spawned","target":"self"}}},"hfrlc:spawned":{"minecraft:collision_box":{"width":2.4,"height":3.3},"minecraft:behavior.hurt_by_target":{"priority":0,"alert_same_type":false},"minecraft:behavior.random_stroll":{"priority":10,"speed_multiplier":1},"minecraft:environment_sensor":{"triggers":[{"event":"hfrlc:death","target":"self","filters":{"test":"actor_health","value":1}}]},"minecraft:block_sensor":{"sensor_radius":16,"on_break":[{"block_list":["minecraft:oak_log","minecraft:spruce_log","minecraft:birch_log","minecraft:jungle_log","minecraft:acacia_log","minecraft:dark_oak_log","minecraft:mangrove_log","minecraft:cherry_log","minecraft:pale_oak_log","minecraft:crimson_stem","minecraft:warped_stem","minecraft:oak_wood","minecraft:spruce_wood","minecraft:birch_wood","minecraft:jungle_wood","minecraft:acacia_wood","minecraft:dark_oak_wood","minecraft:mangrove_wood","minecraft:cherry_wood","minecraft:pale_oak_wood","minecraft:crimson_hyphae","minecraft:warped_hyphae","minecraft:oak_leaves","minecraft:spruce_leaves","minecraft:birch_leaves","minecraft:jungle_leaves","minecraft:acacia_leaves","minecraft:dark_oak_leaves","minecraft:mangrove_leaves","minecraft:cherry_leaves","minecraft:pale_oak_leaves","minecraft:azalea_leaves","minecraft:azalea_leaves_flowered"],"on_block_broken":"hfrlc:important_block_destroyed_event"}]},"minecraft:on_target_escape":{"event":"hfrlc:calm_down"}},"hfrlc:take_target_as_response_to_block_break":{"minecraft:behavior.nearest_attackable_target":{"priority":7,"entity_types":[{"filters":{"test":"is_family","subject":"other","value":"player"},"max_dist":16}]}},"hfrlc:death":{"minecraft:collision_box":{"width":0.0,"height":0.0},"minecraft:behavior.look_at_target":{"priority":999,"look_distance":0},"minecraft:health":{"value":999,"min":0},"minecraft:behavior.random_stroll":{"priority":999,"speed_multiplier":0}},"hfrlc:death_timer":{"minecraft:timer":{"time":[4.0,4.0],"looping":false,"time_down_event":{"event":"hfrlc:actual_death","target":"self"}}}},"components":{"minecraft:physics":{},"minecraft:persistent":{},"minecraft:type_family":{"family":["tree_spirits","mob","ram"]},"minecraft:is_hidden_when_invisible":{},"minecraft:follow_range":{"value":55,"max":55},"minecraft:breathable":{"total_supply":15,"suffocate_time":-1,"inhale_time":3.75,"generates_bubbles":false},"minecraft:despawn":{"despawn_from_distance":{"min_distance":32,"max_distance":40}},"minecraft:attack":{"damage":0},"minecraft:health":{"value":145,"min":1},"minecraft:jump.static":{},"minecraft:movement.basic":{},"minecraft:hurt_on_condition":{"damage_conditions":[{"filters":{"test":"in_lava","subject":"self","operator":"==","value":true},"cause":"lava","damage_per_tick":16},{"filters":{"test":"taking_fire_damage","subject":"self","operator":"==","value":true},"cause":"fire","damage_per_tick":16}]},"minecraft:conditional_bandwidth_optimization":{},"minecraft:pushable":{"is_pushable":false,"is_pushable_by_piston":true},"minecraft:knockback_resistance":{"value":1},"minecraft:behavior.float":{"priority":0},"minecraft:navigation.walk":{"avoid_water":true,"avoid_damage_blocks":true,"blocks_to_avoid":[{"name":"minecraft:powder_snow"}]},"minecraft:experience_reward":{"on_death":"0"},"minecraft:loot":{"table":"loot_tables/tree_spirit.json"}},"events":{"hfrlc:mob_tier1":{"add":{"component_groups":["hfrlc:mob_tier1"]},"set_property":{"hfrlc:mob_tier":1}},"hfrlc:mob_tier2":{"add":{"component_groups":["hfrlc:mob_tier2"]},"set_property":{"hfrlc:mob_tier":2}},"hfrlc:mob_tier3":{"add":{"component_groups":["hfrlc:mob_tier3"]},"set_property":{"hfrlc:mob_tier":3}},"minecraft:entity_spawned":{"add":{"component_groups":["hfrlc:spawning","hfrlc:movement_off"]},"trigger":"hfrlc:choose_attack"},"hfrlc:spawned":{"remove":{"component_groups":["hfrlc:spawning","hfrlc:movement_off"]},"add":{"component_groups":["hfrlc:spawned","hfrlc:movement_on","hfrlc:vulnerable"]},"set_property":{"hfrlc:spawned":true}},"hfrlc:death":{"queue_command":{"command":["function xp_dropper_high"]},"set_property":{"hfrlc:dead":true,"hfrlc:stuck":false,"hfrlc:state":"none","hfrlc:attack_type":"none"},"remove":{"component_groups":["hfrlc:spawning","hfrlc:spawned","hfrlc:movement_on","hfrlc:vulnerable","hfrlc:quick_attack","hfrlc:heavy_attack"]},"add":{"component_groups":["hfrlc:death","hfrlc:movement_off"]}},"hfrlc:despawn":{"remove":{"component_groups":["hfrlc:spawning","hfrlc:spawned","hfrlc:movement_on"]},"add":{"component_groups":["hfrlc:despawn","hfrlc:movement_off"]}},"hfrlc:movement_off":{"remove":{"component_groups":["hfrlc:movement_on"]},"add":{"component_groups":["hfrlc:movement_off"]}},"hfrlc:movement_on":{"remove":{"component_groups":["hfrlc:movement_off"]},"add":{"component_groups":["hfrlc:movement_on"]}},"hfrlc:on_hurt_sound":{"queue_command":{"command":["playsound random.break @a[r=16] ~ ~ ~ 0.8 1.2"]}},"hfrlc:start_healing":{"sequence":[{"remove":{"component_groups":["hfrlc:quick_attack","hfrlc:heavy_attack","hfrlc:vulnerable"]},"set_property":{"hfrlc:attack_type":"none","hfrlc:state":"healing"},"trigger":"hfrlc:movement_off","filters":{"test":"enum_property","domain":"hfrlc:state","value":"none"}}]},"hfrlc:end_healing":{"remove":{"component_groups":["hfrlc:heavy_attack","hfrlc:movement_off"]},"add":{"component_groups":["hfrlc:heavy_attack","hfrlc:vulnerable","hfrlc:movement_on"]},"set_property":{"hfrlc:state":"none"},"trigger":"hfrlc:choose_attack"},"hfrlc:choose_attack":{"remove":{"component_groups":["hfrlc:quick_attack","hfrlc:heavy_attack"]},"randomize":[{"add":{"component_groups":["hfrlc:quick_attack"]},"set_property":{"hfrlc:attack_type":"quick_attack"},"weight":3},{"add":{"component_groups":["hfrlc:heavy_attack"]},"set_property":{"hfrlc:attack_type":"heavy_attack"},"weight":1}],"trigger":"hfrlc:movement_on"},"hfrlc:prepare_attack":{"sequence":[{"set_property":{"hfrlc:state":"preparing_attack"},"filters":{"test":"enum_property","domain":"hfrlc:state","value":"none"}}]},"hfrlc:attack_start":{"sequence":[{"remove":{"component_groups":["hfrlc:movement_on"]},"add":{"component_groups":["hfrlc:movement_off"]},"set_property":{"hfrlc:state":"attacking"},"filters":{"test":"enum_property","domain":"hfrlc:state","value":"preparing_attack"}}]},"hfrlc:attack_end":{"remove":{"component_groups":["hfrlc:movement_off"]},"add":{"component_groups":["hfrlc:movement_on"]},"set_property":{"hfrlc:state":"none"},"trigger":"hfrlc:choose_attack"},"hfrlc:unstuck":{"set_property":{"hfrlc:stuck":false,"hfrlc:state":"none"},"trigger":"hfrlc:choose_attack"},"hfrlc:important_block_destroyed_event":{"add":{"component_groups":["hfrlc:take_target_as_response_to_block_break"]}},"hfrlc:calm_down":{"remove":{"component_groups":["hfrlc:take_target_as_response_to_block_break"]}}}}}